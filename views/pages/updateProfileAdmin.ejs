<%- include('../components/header'); -%>
<%- include('../components/navbar'); -%>

<script src='/js/aws.js'></script>
<script src='/js/updateProfile.js'></script>

<section class='section section--grey'>
    <div class='section__content section__content--full-width'>
        <div class='jumbotron masthead text-center'>
            <div class='section__title section__title--centered'>
                <% if (account.userName) { %>
                    <%= account.userName %>'s profile
                    <% if (account.linkedInURL) { %>
                        <a href="<%= account.linkedInURL %>"><img style="width: 40px"
                                                                  src="data:image/png;base64,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"></a>
                    <% } %>
                <% } %>
            </div>
            <b>Edit Profile Admin</b>
        </div>
    </div>
</section>

<section class='section section__grey' data-aos='fade-up'>
    <div class='container'>
        <div class='row'>
            <div class='col-md-3 col-sm-12'></div>
            <div class='col-md-6 col-sm-12'>
                <h3>Profile image</h3>
                <hr>
                <button type='button' class='btn btn-outline-dark' data-toggle='modal' data-target='#myModal'>
                    Upload new profile image
                </button>
                <br><br>

                <% if (account.profilePicURL) { %>
                    <img src='<%= account.profilePicURL %>' style='width:300px;'>
                <% } else { %>
                    <h5>No profile image uploaded</h5>
                <% } %>

                <br><br>
                <div class='w-100'></div>
                <!--                 form: update personal info -->
                <h3>Basic information</h3>
                <hr>
                <form action='/profile/update/<%= account._id %>' method='post'>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>Full name</span>
                        <input type='text' class='form-control' name='userName' value='<%= account.userName %>'>
                    </div>
                    <br>

                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>Pronouns</span>
                        <input type='text' class='form-control' name='pronoun'
                               placeholder="e.g. He/him/his"
                               value='<%= account.pronoun %>'>
                    </div>
                    <br>

                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>Work Email</span>
                        <input type='text' class='form-control' name='workEmail'
                               value='<%= account.workEmail %>'>
                    </div>
                    <br>

                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>Personal Email (Optional)</span>
                        <input type='text' class='form-control' name='personalEmail'
                               value='<%= account.personalEmail %>'>
                    </div>
                    <br>

                    <!-- line break -->
                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>School</span>
                        <input type='text' class='form-control' name='affiliation'
                               placeholder="e.g. Brandeis University"
                               value='<%= account.affiliation %>'>
                    </div>
                    <br>
                    <% if (account.status === 'student') { %>

                        <!-- line break -->
                        <div class='w-100'></div>
                        <div class='input-group-prepend'>
                            <span class='input-group-text' style='width: 380px'>Graduation Year</span>
                            <input type='text' class='form-control' name='graduationYear'
                                   placeholder="e.g. 2020"
                                   value='<%= account.graduationYear %>'>
                        </div>
                        <br>
                    <% } %>
                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>Department (Optional for students)</span>
                        <input type='text' class='form-control' name='department'
                               value='<%= account.department %>'>
                    </div>
                    <br>

                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>State</span>
                        <select id='stateSelect' class='form-control' name='state'>
                            <option value="empty">Choose...</option>
                            <option value='AL'>Alabama</option>
                            <option value='AK'>Alaska</option>
                            <option value='AZ'>Arizona</option>
                            <option value='AR'>Arkansas</option>
                            <option value='CA'>California</option>
                            <option value='CO'>Colorado</option>
                            <option value='CT'>Connecticut</option>
                            <option value='DE'>Delaware</option>
                            <option value='DC'>District Of Columbia</option>
                            <option value='FL'>Florida</option>
                            <option value='GA'>Georgia</option>
                            <option value='HI'>Hawaii</option>
                            <option value='ID'>Idaho</option>
                            <option value='IL'>Illinois</option>
                            <option value='IN'>Indiana</option>
                            <option value='IA'>Iowa</option>
                            <option value='KS'>Kansas</option>
                            <option value='KY'>Kentucky</option>
                            <option value='LA'>Louisiana</option>
                            <option value='ME'>Maine</option>
                            <option value='MD'>Maryland</option>
                            <option value='MA'>Massachusetts</option>
                            <option value='MI'>Michigan</option>
                            <option value='MN'>Minnesota</option>
                            <option value='MS'>Mississippi</option>
                            <option value='MO'>Missouri</option>
                            <option value='MT'>Montana</option>
                            <option value='NE'>Nebraska</option>
                            <option value='NV'>Nevada</option>
                            <option value='NH'>New Hampshire</option>
                            <option value='NJ'>New Jersey</option>
                            <option value='NM'>New Mexico</option>
                            <option value='NY'>New York</option>
                            <option value='NC'>North Carolina</option>
                            <option value='ND'>North Dakota</option>
                            <option value='OH'>Ohio</option>
                            <option value='OK'>Oklahoma</option>
                            <option value='OR'>Oregon</option>
                            <option value='PA'>Pennsylvania</option>
                            <option value='RI'>Rhode Island</option>
                            <option value='SC'>South Carolina</option>
                            <option value='SD'>South Dakota</option>
                            <option value='TN'>Tennessee</option>
                            <option value='TX'>Texas</option>
                            <option value='UT'>Utah</option>
                            <option value='VT'>Vermont</option>
                            <option value='VA'>Virginia</option>
                            <option value='WA'>Washington</option>
                            <option value='WV'>West Virginia</option>
                            <option value='WI'>Wisconsin</option>
                            <option value='WY'>Wyoming</option>
                        </select>
                    </div>
                    <br>

                    <!-- line break -->
                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>Phone Number (Optional)</span>
                        <input type='text' class='form-control' name='phoneNumber'
                               value='<%= account.phoneNumber %>'>
                    </div>
                    <br>

                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>LinkedIn URL (Optional)</span>
                        <input type='text' class='form-control' name='linkedInURL'
                               value='<%= account.linkedInURL %>'>
                    </div>
                    <br>

                    <div class='w-100'></div>
                    <div class='input-group-prepend'>
                        <span class='input-group-text' style='width: 380px'>Personal Website URL (Optional)</span>
                        <input type='text' class='form-control' name='personalWebsiteURL'
                               value='<%= account.personalWebsiteURL %>'>
                    </div>
                    <br>

                    <div class="form-check">
                        <input class="form-check-input" name="networkCheck" type="checkbox" id="flexCheckDefault"
                        <% if (account.networkCheck === 'on') { %>
                               checked
                                <% } %>
                        >
                        <label class="form-check-label" for="flexCheckDefault">
                            <h5>Opt in for networking section.</h5>
                        </label>
                    </div>
                    <br>

                    <input type='submit' class='btn btn-dark' value='Save'>
                </form>
                <br>
            </div>
        </div>
    </div>
</section>

<!-- upload picture modal -->
<div class='modal fade' id='myModal' tabindex='-1' role='dialog' aria-labelledby='exampleModalLabel'
     aria-hidden='true'>
    <div class='modal-dialog modal-lg' role='document'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h5 class='modal-title' id='exampleModalLabel'>Upload profile image</h5>
                <button type='button' class='close' data-dismiss='modal' aria-label='Close'>
                    <span aria-hidden='true'>&times;</span>
                </button>
            </div>
            <div class='modal-body'>
                <div class='row'>
                    <br><br>
                    <div class='col-md-12 col-sm-12'>
                        <div class='input-group-prepend'>
                            <span class='input-group-text' id='basic-addon1'>Upload photo</span>
                            <input type='file' class='form-control' id='file-input'>
                        </div>
                        <hr>
                    </div>
                    <div class='col-md-12 col-sm-12'>
                        <div class='input-group-prepend'>
                            <span class='input-group-text' style='width: 180px'>Preview</span>
                        </div>
                    </div>
                    <br>
                    <div class='col-md-12 col-sm-12'>
                        <img style='border:1px solid gray; width:100%;'
                             src='data:image/png;base64,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'
                             id='preview'>
                    </div>
                </div>
            </div>
            <div class='modal-footer'>
                <button type='button' class='btn btn-secondary' data-dismiss='modal'>Close</button>
                <form method='POST' action='/profile/<%= account._id %>/update/imageURL'>
                    <input type='hidden' id='imageURL' name='imageURL'>
                    <input type='submit' class='btn btn-outline-dark' value='Upload'>
                </form>
            </div>
        </div>
    </div>
</div>

<%- include('../components/footer'); -%>