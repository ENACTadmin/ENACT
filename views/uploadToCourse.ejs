<%- include('header'); -%>
<%- include('navbar'); -%>

<section class="section section__grey">
    <div class="section__content section__content--full-width">
        <div class="jumbotron masthead text-center">
            <div class="section__title section__title--centered">
                Resource Upload
            </div>
        </div>
    </div>
</section>

<section class="section section__grey">
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-12"></div>
            <div class="col-md-4 col-sm-12">
                <% if (loggedIn) { %>
                    <% console.log("params: " + req.params.courseId) %>
                    <form method="post" action="/uploadResource/<%= req.params.courseId %>">
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="width: 180px">Resource Name</span>
                            <input type="text" class="form-control" name="resourceName"
                                   placeholder="e.g. ENACT Introduction">
                        </div>
                        <br>
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="width: 180px">Description</span>
                            <textarea type="text" class="form-control" name="resourceDescription" rows="4"
                                      placeholder="e.g. Detailed description"></textarea>
                        </div>
                        <br>
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="width: 180px">URI</span>
                            <input type="text" class="form-control" name="uri"
                                   placeholder="e.g. URI">
                        </div>
                        <br>
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="width: 180px">Resource Type</span>
                            <select class="form-control" name="resourceType">
                                <option selected value="null">Choose...</option>
                                <option value="video">Video</option>
                                <option value="document">Document</option>
                                <option>...</option>
                            </select>
                        </div>
                        <br>
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="width: 180px">State</span>
                            <select class="form-control" name="state">
                                <option value="AL">Alabama</option>
                                <option value="AK">Alaska</option>
                                <option value="AZ">Arizona</option>
                                <option value="AR">Arkansas</option>
                                <option value="CA">California</option>
                                <option value="CO">Colorado</option>
                                <option value="CT">Connecticut</option>
                                <option value="DE">Delaware</option>
                                <option value="DC">District Of Columbia</option>
                                <option value="FL">Florida</option>
                                <option value="GA">Georgia</option>
                                <option value="HI">Hawaii</option>
                                <option value="ID">Idaho</option>
                                <option value="IL">Illinois</option>
                                <option value="IN">Indiana</option>
                                <option value="IA">Iowa</option>
                                <option value="KS">Kansas</option>
                                <option value="KY">Kentucky</option>
                                <option value="LA">Louisiana</option>
                                <option value="ME">Maine</option>
                                <option value="MD">Maryland</option>
                                <option value="MA">Massachusetts</option>
                                <option value="MI">Michigan</option>
                                <option value="MN">Minnesota</option>
                                <option value="MS">Mississippi</option>
                                <option value="MO">Missouri</option>
                                <option value="MT">Montana</option>
                                <option value="NE">Nebraska</option>
                                <option value="NV">Nevada</option>
                                <option value="NH">New Hampshire</option>
                                <option value="NJ">New Jersey</option>
                                <option value="NM">New Mexico</option>
                                <option value="NY">New York</option>
                                <option value="NC">North Carolina</option>
                                <option value="ND">North Dakota</option>
                                <option value="OH">Ohio</option>
                                <option value="OK">Oklahoma</option>
                                <option value="OR">Oregon</option>
                                <option value="PA">Pennsylvania</option>
                                <option value="RI">Rhode Island</option>
                                <option value="SC">South Carolina</option>
                                <option value="SD">South Dakota</option>
                                <option value="TN">Tennessee</option>
                                <option value="TX">Texas</option>
                                <option value="UT">Utah</option>
                                <option value="VT">Vermont</option>
                                <option value="VA">Virginia</option>
                                <option value="WA">Washington</option>
                                <option value="WV">West Virginia</option>
                                <option value="WI">Wisconsin</option>
                                <option value="WY">Wyoming</option>
                            </select>
                        </div>
                        <br>
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="width: 180px">Institution</span>
                            <input type="text" class="form-control" name="institution"
                                   placeholder="e.g. Brandeis University">
                        </div>
                        <br>
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="width: 180px">Creation Year</span>
                            <input type="text" class="form-control" name="yearOfCreation"
                                   placeholder="e.g. 2018">
                        </div>
                        <hr>
                        <h3>Tag the resource</h3>
                        <div class="input-group" style="width: 200px; padding-bottom: 10px">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" value="tagA"><br>
                                </div>
                            </div>
                            <input disabled type="text" class="form-control"
                                   aria-label="Text input with checkbox" value="Tag A">
                        </div>
                        <div class="input-group" style="width: 200px; padding-bottom: 10px">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" value="tagB"><br>
                                </div>
                            </div>
                            <input disabled type="text" class="form-control"
                                   aria-label="Text input with checkbox" value="Tag B">
                        </div>
                        <div class="input-group" style="width: 200px; padding-bottom: 10px">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" value="tagC"><br>
                                </div>
                            </div>
                            <input disabled type="text" class="form-control"
                                   aria-label="Text input with checkbox" value="Tag C">
                        </div>
                        <input hidden id="tagsToReturn" type="text" class="form-control" name="tags" value="">
                        <br>
                        <input type="submit" name="submit" class="btn btn-outline-dark" value="Upload">
                    </form>
                <% } else { %>
                    <div class="text-center partners__text">
                        <h3>Please login to view this page</h3>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
</section>

<script>
    $(document).ready(function () {
        let checkboxes = $(":checkbox");
        checkboxes.on('change', function () {
            let string = checkboxes.filter(":checked").map(function () {
                return this.value;
            }).get().join(", ");
            $('#tagsToReturn').val(string);
        });
    });
</script>

<%- include('footer'); -%>